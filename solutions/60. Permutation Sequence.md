### 60. Permutation Sequence

**Backtracking**, **Math**    [ğŸ§¡](https://leetcode.com/problems/permutation-sequence)    

#### Description

The set `[1,2,3,...,_n_]` contains a total of _n_! unique permutations.

By listing and labeling all of the permutations in order, we get the following sequence for _n_ = 3:
- `"123"`
- `"132"`
- `"213"`
- `"231"`
- `"312"`
- `"321"`

Given _n_ and _k_, return the _k_^th permutation sequence.

**Note:**
- Given _n_ will be between 1 and 9 inclusive.
- GivenÂ _k_Â will be between 1 and _n_! inclusive.

**Example 1:**

```
Input: n = 3, k = 3
Output: "213"
```

**Example 2:**

```
Input: n = 4, k = 9
Output: "2314"
```

#### Analysis

é¢˜æ„è¦æ±‚ï¼š æ’åˆ—ç»„åˆé—®é¢˜ã€‚ `n`ä¸ªæ•°å­—æ’åˆ—ï¼Œé—®ç¬¬ `k` ä¸ªæ’åˆ—æ˜¯ä»€ä¹ˆï¼Ÿ

æƒ³è±¡æ•°å­—æ’åˆ—æ˜¯ä¸€æ£µæ ‘ã€‚ åˆ™ ç¬¬ä¸€å±‚çš„åˆ†æ”¯æœ‰ `n` ä¸ªï¼Œ ç¬¬äºŒå±‚æ¯ä¸ªåˆ†æ”¯æœ‰ `n-1`ä¸ªåˆ†æ”¯ã€‚ ç¬¬ä¸‰å±‚ï¼Œæ¯ä¸ªåˆ†æ”¯æœ‰ `n-2` ä¸ªåˆ†æ”¯ã€‚æ¯ä¸ªå¶å­èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæ’åˆ—ã€‚

ç¬¬ä¸€å±‚æ¯ä¸ªåˆ†æ”¯å…±æœ‰ `(n - 1)!` ä¸ªå¶å­èŠ‚ç‚¹ã€‚ç¬¬äºŒå±‚æ¯ä¸ªåˆ†æ”¯å…±æœ‰ `(n - 2)!` ä¸ªå¶å­èŠ‚ç‚¹ã€‚ã€‚ã€‚

ç¬¬kä¸ªæ’åˆ—ï¼Œè½åœ¨ç¬¬ä¸€å±‚ `k // (n - 1)!` åˆ†æ”¯ä¸Šã€‚è¿™æ ·å¯ä»¥æ‰¾åˆ°æ’åˆ—çš„ç¬¬ä¸€ä¸ªæ•°å­—ã€‚ç±»ä¼¼çš„ï¼Œå¯ä»¥æ‰¾åˆ°å‰©ä¸‹çš„æ•°å­—ã€‚

```python
def getPermutation(self, n, k):
    ans = []
    nums = [i for i in range(n + 1)]
    factorial = 1
    factorials = [1]
    for i in range(1, n):
        factorial *= i
        factorials.append(factorial)

    k = k - 1
    for i in range(n - 1, -1, -1):
        j, k = divmod(k, factorials[i])
        ans.append(str(nums.pop(j + 1)))
    return ''.join(ans)
```

è¿™é‡Œæˆ‘æœ‰ä¸€ä¸ªç–‘æƒ‘æ˜¯ `nums.pop` æ•°ç»„çš„pop åŠ¨ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ã€‚ å¦‚æœæ˜¯ $O(n)$ï¼Œé‚£ä¹ˆ æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^2)$ã€‚

#### [Code](../python/60.%20Permutation%20Sequence.py)
