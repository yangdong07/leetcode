### 34. Search for a Range

**Array**, **Binary Search**    [ğŸ§¡](https://leetcode.com/problems/search-for-a-range)    	[ğŸ’¡](https://leetcode.com/articles/search-for-a-range)

#### Description

Given an array of integers `nums` sorted in ascending order, find the starting and ending position of a given `target` value.

Your algorithm's runtime complexity must be in the order of _O_(log _n_).

If the target is not found in the array, return `[-1, -1]`.

**Example 1:**

```
Input: nums = [5,7,7,8,8,10], target = 8
Output: [3,4]
```

**Example 2:**

```
Input: nums = [5,7,7,8,8,10], target = 6
Output: [-1,-1]
```

#### Analysis

ä¸€ç§å¸¸è§„æ€è·¯æ˜¯ éå†ï¼Œ æ—¶é—´å¤æ‚åº¦æ˜¯$O(N)$

äºŒåˆ†æŸ¥æ‰¾çš„è¯ï¼Œéœ€è¦æ‰¾åˆ°å·¦å³è¾¹ç•Œã€‚ æ‰¾å·¦è¾¹ç•Œå¾ˆå¥½æ‰¾ï¼Œå¸¸è§„äºŒåˆ†æŸ¥æ‰¾æ³•ã€‚å¦‚æœæœ‰å·¦è¾¹ç•Œï¼Œä¸€å®šæœ‰å³è¾¹ç•Œã€‚

å³è¾¹ç•Œå…¶å®å¯ä»¥å°† target + 1 è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ‰¾åˆ°çš„ç´¢å¼•ä¸€å®šåˆšå¥½æ¯” targetçš„å³è¾¹ç•Œå¤§ä¸€ã€‚

æ³¨æ„ä¸€äº›è¾¹ç•Œæ¡ä»¶ã€‚åœ¨ä¸‹é¢ä»£ç ä¸­ç”¨åˆ°ä¸€ä¸ªtrickï¼š `len(nums) == l`ï¼Œå°±è¿”å› `[-1, -1]`ï¼š  ä¸€ä¸ªæ˜¯ `len(nums) == 0`ï¼Œåˆ™ `l` ä¹Ÿä¸€å®šä¸º0ï¼Œ å› ä¸ºæ²¡æœ‰è¿›å…¥å¾ªç¯ï¼›å¦ä¸€ä¸ªæ˜¯ `len(nums) == l`ï¼Œè¡¨ç¤º `l`æ‰¾åˆ°æœ«å°¾äº†ï¼Œä»ç„¶æ²¡æ‰¾åˆ°ï¼Œ target æ¯”æ•°ç»„ä¸­æ‰€æœ‰æ•°éƒ½å¤§ã€‚


```python
class Solution:
    def searchRange(self, nums, target):
        """
        :type nums: List[int]
        :type target: int
        :rtype: List[int]
        """

        def binary_search(t):
            l, r = 0, len(nums)
            while l < r:
                m = (l + r) // 2
                if nums[m] < t:
                    l = m + 1
                else:
                    r = m
            return l

        l = binary_search(target)

        if len(nums) == l or nums[l] != target:
            return [-1, -1]

        return [l, binary_search(target + 1) - 1]
```

#### [Code](../python/34.%20Search%20for%20a%20Range.py)
