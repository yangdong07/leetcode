### 79. Word Search

**Array**, **Backtracking**    [ðŸ§¡](https://leetcode.com/problems/word-search)    

#### Description

Given a 2D board and a word, find if the word exists in the grid.

The word can be constructed from letters of sequentially adjacent cell, where "adjacent" cells are those horizontally or vertically neighboring. The same letter cell may not be used more than once.

**Example:**

```
board =
[
  ['A','B','C','E'],
  ['S','F','C','S'],
  ['A','D','E','E']
]

Given word = "ABCCED", return true.
Given word = "SEE", return true.
Given word = "ABCB", return false.
```

#### Analysis

é¢˜ç›®è¦æ±‚ï¼š åœ¨ä¸€ä¸ªå­—ç¬¦çŸ©é˜µé‡Œæœç´¢ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ çŸ©é˜µä¸­å­—ç¬¦ä¸Šä¸‹å·¦å³ç›¸é‚»è§†ä¸ºè¿žç»­ã€‚

ä¸€èˆ¬æ€è·¯æ˜¯ï¼Œ éåŽ†å­—ç¬¦çŸ©é˜µæ¯ä¸ªå­—ç¬¦ï¼Œ å¦‚æžœä¸Ž word ç¬¬ä¸€ä¸ªå­—ç¬¦åŒ¹é…ï¼Œåˆ™åœ¨çŸ©é˜µä¸­æ­¤å¤„å±•å¼€æœç´¢ã€‚å±•å¼€æœç´¢ï¼Œå¯ä»¥ç”¨é€’å½’æ–¹æ³•ã€‚

è¿™é‡Œçš„å…³é”®æ˜¯å¦‚ä½•åœ¨é€’å½’ä¸­é˜²æ­¢é‡å¤ä½¿ç”¨å·²ç»ç”¨è¿‡çš„å­—ç¬¦ã€‚

ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ª visited çŸ©é˜µï¼Œåœ¨é€’å½’è®¿é—®åˆ°ä¸€ä¸ªå­—ç¬¦æ—¶ï¼Œç½®ä¸º Trueï¼Œ å›žæº¯æ—¶ç½®ä¸º Falseã€‚

æ›´åŠ å·§å¦™çš„åŠžæ³•æ˜¯ ç›´æŽ¥åœ¨çŸ©é˜µä¸­å°†å­—ç¬¦ maskæŽ‰ï¼ˆè¿™æ ·ä¸ä¼šè¢«ç»§ç»­åŒ¹é…ï¼‰ï¼› åœ¨å›žæº¯æ—¶æ¢å¤ã€‚ è¿™æ ·åšä¸ç”¨é¢å¤–çš„ç©ºé—´ã€‚

å¦å¤–æ³¨æ„è¾¹ç•Œæ¡ä»¶ã€‚

```python
def exist(self, board, word):
    m, n = len(board), len(board[0])
    l = len(word)

    def search(r, c, i):
        if i == l - 1:
            return board[r][c] == word[i]
        if board[r][c] != word[i]:
            return False

        board[r][c] = '*'   # mask

        found = (r > 0 and search(r - 1, c, i + 1)) or \
                (r < m - 1 and search(r + 1, c, i + 1)) or \
                (c > 0 and search(r, c - 1, i + 1)) or \
                (c < n - 1 and search(r, c + 1, i + 1))

        board[r][c] = word[i]  # unmask

        return found

    for x in range(m):
        for y in range(n):
            if search(x, y, 0):
                return True
    return False
```

AC, 87/87, 160ms

#### Optimize

çœ‹äº†æœ€å¿«çš„è§£æ³•ï¼Œæ‰çŸ¥é“è¿˜å¯ä»¥ä¼˜åŒ–ã€‚

ä¼˜åŒ–ç­–ç•¥å¾ˆç®€å•ï¼Œ å¯¹ word å­—ç¬¦è®¡æ•°ï¼Œå¹¶ä¸Ž boardçš„å­—ç¬¦è®¡æ•°æ¯”è¾ƒï¼Œå¦‚æžœ wordå­—ç¬¦è®¡æ•°å¤šäºŽ ç›¸åº” board å­—ç¬¦è®¡æ•°ï¼Œé‚£ä¹ˆæ€Žä¹ˆæ‰¾éƒ½ä¸å¯èƒ½åŒ¹é…ã€‚

```python
def exist(self, board, word):

    c_board = Counter([c for row in board for c in row])
    c_word = Counter(word)
    for c in c_word:
        if c not in c_board or c_board[c] < c_word[c]:
            return False
    ...
```

AC, 87/87, 68msï¼Œ ç®€ç›´ä¸è¦å¤ªå¿«ï¼

#### [Code](../python/79.%20Word%20Search.py)
