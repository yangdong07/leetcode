### 91. Decode Ways

**Dynamic Programming**, **String**    [ğŸ§¡](https://leetcode.com/problems/decode-ways)    

#### Description

A message containing letters from `A-Z` is being encoded to numbers using the following mapping:

```
'A' -> 1
'B' -> 2
...
'Z' -> 26
```

Given a **non-empty** string containing only digits, determine the total number of ways to decode it.

**Example 1:**

```
Input: "12"
Output: 2
Explanation:Â It could be decoded as "AB" (1 2) or "L" (12).
```

**Example 2:**

```
Input: "226"
Output: 3
Explanation:Â It could be decoded as "BZ" (2 26), "VF" (22 6), or "BBF" (2 2 6).
```

#### Analysis

å…¸å‹çš„ DP é—®é¢˜ã€‚ å¯ä»¥è·³è¿‡ backtracking è¿™æ­¥å¼€å§‹æ€è€ƒï¼Œä»¤ `DP(i)` æ˜¯é—®é¢˜ `s[:i+1]` çš„ç¼–ç å¯èƒ½æ•°å­—ã€‚

`DP(i)` å¯èƒ½æ˜¯ `DP(i-1) + DP(i-2)`ï¼Œ è§†æƒ…å†µè€Œå®šã€‚

- `1212121`ï¼Œ åƒè¿™ç§ï¼Œ`DP(i) = DP(i-1) + DP(i-2)`
- `12005` å’Œ `12305`ï¼Œ åœ¨ç¬¬ 4 ä¸ªä½ç½®ï¼Œå› ä¸º `0` å’Œ `00` å’Œ `30` éƒ½æ— æ³•ç¼–ç ï¼Œ æ‰€ä»¥æ˜¯éæ³•ç¼–ç ã€‚è¿”å› 0ã€‚ åƒ `12205` è¿™ç§ï¼Œ  `DP(i) = DP(i-2)`
- `12345` åœ¨ç¬¬4ä¸ªä½ç½®ï¼Œ å› ä¸º `34 > 26`ï¼Œ æ‰€ä»¥ `DP(i) = DP(i - 1)`

è€ƒè™‘ä¸‰ç§æƒ…å†µã€‚

```python
def numDecodings(self, s):
    if not s or s[0] == '0':
        return 0

    d2, d1 = 1, 1
    d = 1
    for i in range(1, len(s)):
        if s[i] == '0':
            if s[i - 1] not in {'1', '2'}: # '00', '30', '40'... invalid
                return 0
            d = d2
        elif 9 < int(s[i - 1: i + 1]) < 27:
            d = d1 + d2
        else:
            d = d1

        d2, d1 = d1, d

    return d
```





#### [Code](../python/91.%20Decode%20Ways.py)
