### 47. Permutations II

**Backtracking**    [ğŸ§¡](https://leetcode.com/problems/permutations-ii)    

#### Description

Given a collection of numbers that might contain duplicates, return all possible unique permutations.

**Example:**

```
Input: [1,1,2]
Output:
[
  [1,1,2],
  [1,2,1],
  [2,1,1]
]
```

#### Analysis

ä¸ç¬¬46é¢˜ä¸€æ ·ã€‚ ä¸è¿‡è¿™é‡Œæœ‰é‡å¤æ•°å­—ï¼Œéœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚

é€’å½’è§£æ³•ï¼š

```python
def permuteUnique(self, nums):
    nums.sort()

    def dfs(rest):
        if len(rest) == 1:
            return [rest]

        seen = None
        permutations = []
        for i, n in enumerate(rest):
            if n != seen:
                seen = n
                permutations.extend([[n] + p for p in dfs(rest[:i] + rest[i+1:])])
        return permutations

    return dfs(nums)
```

è¿™é‡Œæ£€æŸ¥æ˜¯å¦é‡åˆ°é‡å¤æ•°å­—ï¼Œå¦‚æœé‡åˆ°äº†ï¼Œè¿™ä¸ªåˆ†æ”¯å°±ä¸ç”¨ç»§ç»­è€ƒè™‘äº†ã€‚ ä¹‹å‰ä¹Ÿé‡åˆ°è¿‡ç±»ä¼¼çš„é—®é¢˜ã€‚


#### Solution2

è‡ªåº•å‘ä¸Šè§£æ³•ï¼š å‚è€ƒ <https://leetcode.com/problems/permutations-ii/discuss/18602/9-line-python-solution-with-1-line-to-handle-duplication-beat-99-of-others-:-)>

```python
def permuteUnique(self, nums):
    permutations = [[]]
    for num in nums:
        np = []
        for p in permutations:
            for i in range(len(p) + 1):
                np.append(p[:i] + [num] + p[i:])
                if i < len(p) and p[i] == num:
                    break
        permutations = np
    return permutations
```

é™¤äº†æå‰ç»ˆæ­¢é‚£ä¸€æ­¥ï¼Œå…¶ä»–éƒ½ä¸æ­£å¸¸è§£æ³•ç›¸åŒã€‚

ä¸ºä»€ä¹ˆå¯ä»¥æå‰ç»ˆæ­¢ï¼Ÿè¿™é‡Œç”¨æ•°å­¦å½’çº³æ³•è¯æ˜ã€‚

1. æˆ‘ä»¬å‡è®¾å·²ç»æ·»åŠ çš„æ•°å­—ï¼Œå¾—åˆ°çš„ permutations æ˜¯å®Œå…¨çš„ï¼Œä¸é‡å¤çš„ã€‚
2. ç°åœ¨è¦æ·»åŠ ä¸€ä¸ªæ–°çš„æ•°å­— numã€‚
    1. å¦‚æœè¿™ä¸ªæ•°å­—æ²¡æœ‰é‡å¤ï¼Œ åˆ™ä¸Šé¢æå‰ç»ˆæ­¢æ¡ä»¶ä¸ä¼šæˆç«‹ã€‚å¾—åˆ°çš„æ–°çš„æ’åˆ—ç»„åˆè€ƒè™‘äº†æ‰€æœ‰æ’åˆ—æƒ…å†µã€‚
    2. å¦‚æœè¿™ä¸ªæ•°å­—å­˜åœ¨é‡å¤ï¼Œå¯¹æ’åˆ— p æ¯ä¸ªä½ç½®æ’å…¥æ•°å­— numï¼Œå½“ i ä½ç½®æ•°å­—ä¸ num ç›¸åŒæ—¶ï¼Œç»ˆæ­¢åœ¨pä¸Šçš„æ’å…¥ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä¸ç»ˆæ­¢ï¼Œè¿™æ—¶å¯ä»¥è¯æ˜ï¼Œä¹‹åçš„ä»»æ„æ’å…¥ï¼ˆåœ¨ j ä¸Šï¼Œ j > iï¼‰ï¼Œç­‰ä»·äºå…¶ä»–æŸä¸ªæ’åˆ—åœ¨ i ä½ç½®ä¸Šçš„æ’å…¥ï¼Œé‚£ä¸ªæ’åˆ—çš„ç¬¬ä¸€ä¸ªnum å‡ºç°åœ¨ j ä½ç½®ã€‚ æ‰€ä»¥å¯ä»¥æå‰ç»ˆæ­¢ã€‚å› ä¸ºæ‰€æœ‰ æ’åˆ—éƒ½ä¼šéå†ä¸€éï¼Œä¸ç»ˆæ­¢çš„æ’å…¥éƒ½ä¼šå‡ºç°ï¼Œæ‰€ä»¥æ‰€æœ‰æƒ…å†µéƒ½ä¼šå‡ºç°ï¼Œæœ€åå¾—åˆ°çš„ æ’åˆ—ä¹Ÿæ˜¯ å®Œå…¨çš„ã€‚ æ­¤å¤–å¯ä»¥æ ¹æ®ç¬¬ä¸€æ¬¡å‡ºç° num çš„ä½ç½®ï¼Œè¯æ˜æ‰€æœ‰æ–°çš„æ’åˆ—ä¹Ÿæ˜¯ä¸é‡å¤çš„ã€‚

ä»¥ä¸Šæ˜¯è¯æ˜æ€æƒ³ã€‚é€»è¾‘ä¸Šåº”è¯¥æ²¡æœ‰é”™è¯¯ï¼Œä½†æ˜¯æè¿°ä¸ŠæŒ«äº†ä¸€äº›ã€‚

è¿™ç§æ–¹æ³•åº”å½“æ˜¯æœ€ä¼˜é›…çš„æ–¹æ³•ä¹‹ä¸€ã€‚

#### [Code](../python/47.%20Permutations%20II.py)
